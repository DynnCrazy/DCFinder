const map1_dataroom = [
    {
        "image": "Img/r1_normal.jpg",
        "anomali": [
            {
                "img": "Img/r1_extra_1.jpg",
                "type": "extra"
            },
            {
                "img": "Img/r1_extra_2.jpg",
                "type": "extra"
            },
            {
                "img": "Img/r1_extra_3.jpg",
                "type": "extra"
            },
            {
                "img": "Img/r1_intrdr_1.jpg",
                "type": "intruder"
            },
            {
                "img": "Img/r1_miss_1.jpg",
                "type": "missing"
            },
            {
                "img": "Img/r1_mvnt_1.jpg",
                "type": "movement"
            },
            {
                "img": "Img/r1_mvnt_2.jpg",
                "type": "movement"
            }
        ]
    },
    {
        "image": "Img/r2_normal.jpg",
        "anomali": [
            {
                "img": "Img/r2_change_1.jpg",
                "type": "change"
            },
            {
                "img": "Img/r2_extra_1.jpg",
                "type": "extra"
            },
            {
                "img": "Img/r2_intrdr_1.jpg",
                "type": "intruder"
            },
            {
                "img": "Img/r2_miss_1.jpg",
                "type": "missing"
            },
            {
                "img": "Img/r2_miss_2.jpg",
                "type": "missing"
            },
            {
                "img": "Img/r2_mvnt_1.jpg",
                "type": "movement"
            },
            {
                "img": "Img/r2_size_1.jpg",
                "type": "size"
            }
        ]
    },
    {
        "image": "Img/r3_normal.jpg",
        "anomali": [
            {
                "img": "Img/r3_extra_1.jpg",
                "type": "extra"
            },
            {
                "img": "Img/r3_extra_2.jpg",
                "type": "extra"
            },
            {
                "img": "Img/r3_intrdr_1.jpg",
                "type": "intruder"
            },
            {
                "img": "Img/r3_miss_1.jpg",
                "type": "missing"
            },
            {
                "img": "Img/r3_mvnt_1.jpg",
                "type": "movement"
            },
            {
                "img": "Img/r3_size_1.jpg",
                "type": "size"
            },
            {
                "img": "Img/r3_size_2.jpg",
                "type": "size"
            }
        ]
    },
    {
        "image": "Img/r4_normal.jpg",
        "anomali": [
            {
                "img": "Img/r4_extra_1.jpg",
                "type": "extra"
            },
            {
                "img": "Img/r4_intrdr_1.jpg",
                "type": "intruder"
            },
            {
                "img": "Img/r4_miss_1.jpg",
                "type": "missing"
            },
            {
                "img": "Img/r4_miss_2.jpg",
                "type": "missing"
            },
            {
                "img": "Img/r4_mvnt_1.jpg",
                "type": "movement"
            },
            {
                "img": "Img/r4_size_1.jpg",
                "type": "size"
            },
            {
                "img": "Img/r4_size_2.jpg",
                "type": "size"
            }
        ]
    },
    {
        "image": "Img/r5_normal.jpg",
        "anomali": [
            {
                "img": "Img/r5_extra_1.jpg",
                "type": "extra"
            },
            {
                "img": "Img/r5_intrdr_1.jpg",
                "type": "intruder"
            },
            {
                "img": "Img/r5_miss_1.jpg",
                "type": "missing"
            },
            {
                "img": "Img/r5_mvnt_1.jpg",
                "type": "movement"
            },
            {
                "img": "Img/r5_size_1.jpg",
                "type": "size"
            },
            {
                "img": "Img/r5_size_2.jpg",
                "type": "size"
            },
            {
                "img": "Img/r5_size_3.jpg",
                "type": "size"
            }
        ]
    },
    {
        "image": "Img/r6_normal.jpg",
        "anomali": [
            {
                "img": "Img/r6_change_1.jpg",
                "type": "change"
            },
            {
                "img": "Img/r6_extra_1.jpg",
                "type": "extra"
            },
            {
                "img": "Img/r6_intrdr_1.jpg",
                "type": "intruder"
            },
            {
                "img": "Img/r6_miss_1.jpg",
                "type": "missing"
            },
            {
                "img": "Img/r6_mvnt_1.jpg",
                "type": "movement"
            },
            {
                "img": "Img/r6_mvnt_2.jpg",
                "type": "movement"
            },
            {
                "img": "Img/r6_size_1.jpg",
                "type": "size"
            }
        ]
    }
];

const map1_name = ["-", "Ruang Tamu", "Ruang Penyimpaan", "Hutan", "Kamar Mandi", "Dapur", "Jalanan"];

const map2_dataroom = [
    {
        "image": "Img/r2_1_normal.jpg",
        "anomali": [
            {
                "img": "Img/r1_extra_1.jpg",
                "type": "extra"
            },
            {
                "img": "Img/r1_extra_2.jpg",
                "type": "extra"
            },
            {
                "img": "Img/r1_extra_3.jpg",
                "type": "extra"
            },
            {
                "img": "Img/r1_intrdr_1.jpg",
                "type": "intruder"
            },
            {
                "img": "Img/r1_miss_1.jpg",
                "type": "missing"
            },
            {
                "img": "Img/r1_mvnt_1.jpg",
                "type": "movement"
            },
            {
                "img": "Img/r1_mvnt_2.jpg",
                "type": "movement"
            }
        ]
    },
    {
        "image": "Img/r2_normal.jpg",
        "anomali": [
            {
                "img": "Img/r2_change_1.jpg",
                "type": "change"
            },
            {
                "img": "Img/r2_extra_1.jpg",
                "type": "extra"
            },
            {
                "img": "Img/r2_intrdr_1.jpg",
                "type": "intruder"
            },
            {
                "img": "Img/r2_miss_1.jpg",
                "type": "missing"
            },
            {
                "img": "Img/r2_miss_2.jpg",
                "type": "missing"
            },
            {
                "img": "Img/r2_mvnt_1.jpg",
                "type": "movement"
            },
            {
                "img": "Img/r2_size_1.jpg",
                "type": "size"
            }
        ]
    },
    {
        "image": "Img/r3_normal.jpg",
        "anomali": [
            {
                "img": "Img/r3_extra_1.jpg",
                "type": "extra"
            },
            {
                "img": "Img/r3_extra_2.jpg",
                "type": "extra"
            },
            {
                "img": "Img/r3_intrdr_1.jpg",
                "type": "intruder"
            },
            {
                "img": "Img/r3_miss_1.jpg",
                "type": "missing"
            },
            {
                "img": "Img/r3_mvnt_1.jpg",
                "type": "movement"
            },
            {
                "img": "Img/r3_size_1.jpg",
                "type": "size"
            },
            {
                "img": "Img/r3_size_2.jpg",
                "type": "size"
            }
        ]
    },
    {
        "image": "Img/r4_normal.jpg",
        "anomali": [
            {
                "img": "Img/r4_extra_1.jpg",
                "type": "extra"
            },
            {
                "img": "Img/r4_intrdr_1.jpg",
                "type": "intruder"
            },
            {
                "img": "Img/r4_miss_1.jpg",
                "type": "missing"
            },
            {
                "img": "Img/r4_miss_2.jpg",
                "type": "missing"
            },
            {
                "img": "Img/r4_mvnt_1.jpg",
                "type": "movement"
            },
            {
                "img": "Img/r4_size_1.jpg",
                "type": "size"
            },
            {
                "img": "Img/r4_size_2.jpg",
                "type": "size"
            }
        ]
    },
    {
        "image": "Img/r5_normal.jpg",
        "anomali": [
            {
                "img": "Img/r5_extra_1.jpg",
                "type": "extra"
            },
            {
                "img": "Img/r5_intrdr_1.jpg",
                "type": "intruder"
            },
            {
                "img": "Img/r5_miss_1.jpg",
                "type": "missing"
            },
            {
                "img": "Img/r5_mvnt_1.jpg",
                "type": "movement"
            },
            {
                "img": "Img/r5_size_1.jpg",
                "type": "size"
            },
            {
                "img": "Img/r5_size_2.jpg",
                "type": "size"
            },
            {
                "img": "Img/r5_size_3.jpg",
                "type": "size"
            }
        ]
    },
    {
        "image": "Img/r6_normal.jpg",
        "anomali": [
            {
                "img": "Img/r6_change_1.jpg",
                "type": "change"
            },
            {
                "img": "Img/r6_extra_1.jpg",
                "type": "extra"
            },
            {
                "img": "Img/r6_intrdr_1.jpg",
                "type": "intruder"
            },
            {
                "img": "Img/r6_miss_1.jpg",
                "type": "missing"
            },
            {
                "img": "Img/r6_mvnt_1.jpg",
                "type": "movement"
            },
            {
                "img": "Img/r6_mvnt_2.jpg",
                "type": "movement"
            },
            {
                "img": "Img/r6_size_1.jpg",
                "type": "size"
            }
        ]
    }
];

const map2_name = ["-", "Kamar Tidur 1", "Kamar Tidur 2", "Dapur Bagian Dalam", "Dapur Bagian Depan", "Depan Kamar", "Kamar Mandi"];

var dataroom = map1_dataroom;
const ruanganNow = map1_name;

// ==============
// BY DYN CRAZY
// ==============

// Data user
var benar = 0; // Poin user saat benar
var salah = 0; // Poin user saat salah 
var anomali = []; // Array untuk mengatur anomali
var nomorImageNow = 0; // Nomor/ruangan sekarang yang muncul di layar
var totalDilihat = 0; // Image/ruangan yang sudah dilihat user
var totalAnomaliNow = 0; //Total anomali yang muncul sekarang
var anomaliSebelumnyaMuncul = 0; //
var isStart = false; // Memeriksa apakah sudah mulai atau belum
var awr = '';
var selectedValue = '';
var alrtMuncul = false;
var loadAlertU = false;
var nin = document.getElementById("nmrimgn");
var detik = 0;
var anomaliRoom1 = 7;
var anomaliRoom2 = 7;
var anomaliRoom3 = 7;
var anomaliRoom4 = 7;
var anomaliRoom5 = 7;
var anomaliRoom6 = 7;
var isGamesEnd = false;

// # Data game
var minRoom = 1;
var maxRoom = 6;
var gamesImage = document.getElementById("gimage");

// # User choose
var mode = "default";
if (mode === "default") {
    var namemode = "Default";
    var jarakPoinToLose = -3;
    var jarakPoinToWin = 5;
    var jarakPoinToWin2 = 5;
    var detikToWin = "600"
} else if (mode === "very-easy") {
    var namemode = "Very Easy";
    var jarakPoinToLose = -4;
    var jarakPoinToWin = 5;
    var jarakPoinToWin2 = 5;
    var detikToWin = "600"
} else if (mode === "easy") {
    var namemode = "Easy";
    var jarakPoinToLose = -4;
    var jarakPoinToWin = 5;
    var jarakPoinToWin2 = 5;
    var detikToWin = "600"
} else if (mode === "medium") {
    var namemode = "Medium";
    var jarakPoinToLose = -4;
    var jarakPoinToWin = 5;
    var jarakPoinToWin2 = 5;
    var detikToWin = "600"
} else if (mode === "hard") {
    var namemode = "Hard";
    var jarakPoinToLose = -4;
    var jarakPoinToWin = 5;
    var jarakPoinToWin2 = 5;
    var detikToWin = "600"
} else if (mode === "very-hard") {
    var namemode = "Very Hard";
    var jarakPoinToLose = -4;
    var jarakPoinToWin = 5;
    var jarakPoinToWin2 = 5;
    var detikToWin = "600"
} else if (mode === "nightmare") {
    var namemode = "Nightmare";
    var jarakPoinToLose = -4;
    var jarakPoinToWin = 5;
    var jarakPoinToWin2 = 5;
    var detikToWin = "600"
}

let musik = document.getElementById("musicInGame");
let musik2 = document.getElementById("audioClick");
musik.volume = 0.25;
musik2.volume = 0.10;


function playGms() {
    clickk();
    document.getElementById("dis-d-1").style.display = "none";
    document.getElementById("img-display").style.display = "block";
    document.getElementById("ctrl-player").style.display = "";
    document.getElementById("loadImgf").style.display = "none";
    document.getElementById("ttlwb").style.display = "none";
    isStart = true;
    firstImage();
    hitungDetik();
    // playAudio();
}

function playAudio() {
    musik.play();
}

function stopAudio() {
    musik.pause();
    audio.currentTime = 0;
}

function clickk() {
    musik2.play();
}

function firstImage() {
    document.getElementById("gimage").src = dataroom[0].image;
    nomorImageNow = 1;
    nin.innerHTML = awr + ruanganNow[nomorImageNow]; 
    totalDilihat += 1;
}

function kiriBtn() {
    if (nomorImageNow === minRoom) {
        nomorImageNow = 6;
        nin.innerHTML = awr + ruanganNow[nomorImageNow];
        var imgnownumber = nomorImageNow;
        imgnownumber -= 1; 
        document.getElementById("gimage").src = dataroom[imgnownumber].image;
    } else {
        nomorImageNow -= 1;
        nin.innerHTML = awr + ruanganNow[nomorImageNow];
        var imgnownumber = nomorImageNow;
        imgnownumber -= 1; 
        document.getElementById("gimage").src = dataroom[imgnownumber].image;
    }

    updateDisplay();

    totalDilihat += 1;
    totalAnomaliNow = anomali.length;
    addAnomali();
}

function kananBtn() {
    if (nomorImageNow === maxRoom) {
        nomorImageNow = 1;
        nin.innerHTML = awr + ruanganNow[nomorImageNow];
        var imgnownumber = nomorImageNow;
        imgnownumber -= 1; 
        document.getElementById("gimage").src = dataroom[imgnownumber].image;
    } else {
        nomorImageNow += 1;
        nin.innerHTML = awr + ruanganNow[nomorImageNow];
        var imgnownumber = nomorImageNow;
        imgnownumber -= 1; 
        document.getElementById("gimage").src = dataroom[imgnownumber].image;
    }
    updateDisplay();

    totalDilihat += 1;
    totalAnomaliNow = anomali.length;
    addAnomali();
}

function updateDisplay() {
    var imgnownumber = nomorImageNow - 1;
    var found = anomali.find(anom => anom.noroom === nomorImageNow);

    if (found) {
        var noimgset = found.noanomali - 1;
        document.getElementById("gimage").src = dataroom[imgnownumber].anomali[noimgset].img;
    } else {
        document.getElementById("gimage").src = dataroom[imgnownumber].image;
    }
    nin.innerHTML = awr + ruanganNow[nomorImageNow];
}

function addAnomali() { 
    if (detik >= 5 && totalDilihat >= 12) {
        if (totalAnomaliNow >= 4) {
            if (alrtMuncul === false) {
                alert('Waspada! Anomali banyak!');
                alrtMuncul = true;
            }
        } else {
            var jarak = detik - anomaliSebelumnyaMuncul;
            if (detik <= 60 && jarak >= 60) {
                const randomNumber1 = Math.floor(Math.random() * 6) + 1;
                const randomNumber2 = Math.floor(Math.random() * eval(`anomaliRoom${randomNumber1}`)) + 1;
                anomali.push({ noroom: randomNumber1, noanomali: randomNumber2 });
                console.log(anomali);
                anomaliSebelumnyaMuncul = detik;
            } else if (detik <= 120 && jarak >= 55) {
                const randomNumber1 = Math.floor(Math.random() * 6) + 1;
                const randomNumber2 = Math.floor(Math.random() * eval(`anomaliRoom${randomNumber1}`)) + 1;
                anomali.push({ noroom: randomNumber1, noanomali: randomNumber2 });
                console.log(anomali);
                anomaliSebelumnyaMuncul = detik;
            } else if (detik <= 400 && jarak >= 50) {
                const randomNumber1 = Math.floor(Math.random() * 6) + 1;
                const randomNumber2 = Math.floor(Math.random() * eval(`anomaliRoom${randomNumber1}`)) + 1;
                anomali.push({ noroom: randomNumber1, noanomali: randomNumber2 });
                console.log(anomali);
                anomaliSebelumnyaMuncul = detik;
            } else if (detik <= 1000 && jarak >= 40) {
                const randomNumber1 = Math.floor(Math.random() * 6) + 1;
                const randomNumber2 = Math.floor(Math.random() * eval(`anomaliRoom${randomNumber1}`)) + 1;
                anomali.push({ noroom: randomNumber1, noanomali: randomNumber2 });
                console.log(anomali);
                anomaliSebelumnyaMuncul = detik;
            }
        }
    }
}


function checkReport() {
    const select = document.getElementById("report-select");
    selectedValue = select.options[select.selectedIndex].value;
    var anmyly = '';

    if (selectedValue === "xxx") {
        alert('Silakan pilih laporan anomali!');
        return;
    }

    const currentRoomAnomalies = anomali.filter(anom => anom.noroom === nomorImageNow);

    const roomAnomalies = dataroom[nomorImageNow - 1].anomali;
    const isAnomalyInDataRoom = roomAnomalies.some(anomaly => anomaly.type === selectedValue);

    const isAnomalyReported = currentRoomAnomalies.some(anomaly => {    
        const anomalyType = dataroom[anomaly.noroom - 1].anomali[anomaly.noanomali - 1].type;

        anmyly = anomali.filter(item => item.noroom === nomorImageNow).map(item => item.noanomali);
        anmyly -= 1;

        console.log(anmyly);

        return anomalyType === selectedValue;
    });

    const resultReport = document.getElementById("resultreport");

    if (isAnomalyInDataRoom && isAnomalyReported) {
        console.log('Kamu benar');
        anomali = anomali.filter(anom => {
            const anomalyType = dataroom[anom.noroom - 1].anomali[anom.noanomali - 1].type;
            return anomalyType !== selectedValue || anom.noroom !== nomorImageNow;
        });
        var jrkpoin = benar - salah;
        if (jrkpoin <= jarakPoinToLose || detik >= 350 && totalAnomaliNow >= 5) {
            endGameLose();
        } else if (jrkpoin >= jarakPoinToWin && detik >= 350 || jrkpoin >= jarakPoinToWin2) {
            endGameWin();
        } else {
            benar += 1;
        }

        var imageForNowz = gamesImage.src;
        gamesImage.src = 'Img/anomalifix.jpg';

        dataroom[nomorImageNow - 1].anomali.splice(anmyly, 1);

        if (nomorImageNow === 1) {
            anomaliRoom1 -= 1;
        } else if (nomorImageNow === 2) {
            anomaliRoom2 -= 1;
        } else if (nomorImageNow === 3) {
            anomaliRoom3 -= 1;
        } else if (nomorImageNow === 4) {
            anomaliRoom4 -= 1;
        } else if (nomorImageNow === 5) {
            anomaliRoom5 -= 1;
        } else if (nomorImageNow === 6) {
            anomaliRoom6 -= 1;
        }

        if (anomaliRoom1 === 1 || anomaliRoom2 === 1 || anomaliRoom3 === 1 || anomaliRoom4 === 1 || anomaliRoom5 === 1 || anomaliRoom6 === 1) {
            endGameWin();
        }

        console.log(anomaliRoom1 + '-' + anomaliRoom2 + '-' + anomaliRoom3 + '-' + anomaliRoom4 + '-' + anomaliRoom5 + '-' + anomaliRoom6);
        console.log(dataroom);
        console.log(imageForNowz);
        console.log(anmyly);

        setTimeout(() => {
            // kananBtn();
            var imgnownumber = nomorImageNow - 1;
            gamesImage.src = dataroom[imgnownumber].image;
        }, 3000);
    } else {
        console.log('Kamu salah')
        var jrkpoin = benar - salah;
        if (jrkpoin <= jarakPoinToLose || detik >= 350 && totalAnomaliNow >= 5) {
            endGameLose();
        } else if (jrkpoin >= jarakPoinToWin && detik >= 350 || jrkpoin >= jarakPoinToWin2) {
            endGameWin();
        } else {
            salah += 1;
            resultReport.textContent = 'Anomali tidak ditemukan.';
            // resultReport.style.color = 'red';
        }

        resultReport.style.opacity = 1;
        resultReport.classList.add('typing');

        document.getElementById('rptbtn').disabled = true;

        setTimeout(() => {
            resultReport.style.opacity = 0;
            resultReport.classList.remove('typing');

            document.getElementById('rptbtn').disabled = false;
        }, 5000);
    }

}

function endGameLose() {
    // alert('KAMU KALAH!');
    gamesImage.src = "/Img/lose_1.jpg";
    gamesImage.style.zIndex = 99999;
    isGamesEnd = true;
    resetGame();
}

function endGameWin() {
    // alert('KAMU MENANG!');
    gamesImage.src = "/Img/win_default.jpg";
    gamesImage.style.zIndex = 99999;
    isGamesEnd = true;
    resetGame();
}

function resetGame() {
    document.getElementById("dis-d-1").style.display = "block";
    // document.getElementById("img-display").style.display = "none";
    document.getElementById("ctrl-player").style.display = "none";
    document.getElementById("loadImgf").style.display = "";
    // document.getElementById("ttlwb").style.display = "block";
    benar = 0;
    salah = 0;
    anomali = [];
    nomorImageNow = 0;
    totalDilihat = 0;
    totalAnomaliNow = 0;
    anomaliSebelumnyaMuncul = 0;
    isStart = false;
    awr = '';
    selectedValue = '';
    alrtMuncul = false;
    detik = 0;
}


document.addEventListener("keydown", function(event) {
    if (event.key === "ArrowLeft" || event.key === "A" || event.key === "a") {
        kiriBtn();
    } else if (event.key === "ArrowRight" || event.key === "D" || event.key === "d") {
        kananBtn();
    } else if (event.key === "P" || event.key === "p") {
        if (isStart == false) {
            playGms();
        }
    } else if (event.key === "R" || event.key === "r" || event.key === "Enter" || event.key === "enter" || event.key === "ENTER" ) {
        if (isGamesEnd === false) {
            if (isStart === true) {
                checkReport();
            }
        } else {
            window.location.reload();
        }
    } else if (event.key === "/") {
        test();
    } else if (event.key === "U" || event.key === "u") {
        if (isStart === false) {
            window.location.href = "update.txt";
        }
    } 
});


function hitungDetik() {
    const interval = setInterval(() => {
        if (isStart === true) {
            detik++;
        }
        // console.log(`Detik: ${detik}`);

        if (detik >= detikToWin) {
            endGameWin();
        }

    }, 1000);
}

function test() {
    alert('Tes');
}

if (loadAlertU === true) {
    alert('Mohon tunggu 10-20 detik sebelum bermain supaya semua gambar diload!');
    loadAlertU = true;
}

const imageSources = [
    "Img/anomalifix.jpg",
    "Img/lose_1.jpg",
    "Img/lose_2.jpg",
    "Img/lose_easy.jpg",
    "Img/sus.jpg",
    "Img/win_default.jpg",
    "Img/win_easy.jpg",
    "Img/win_hard.jpg",
    "Img/win_medium.jpg",
    "Img/win_nightmare.jpg",
    "Img/win_very-easy.jpg",
    "Img/win_very-hard.jpg",
    "Img/normal.jpg",
    "Img/r1_extra_1.jpg",
    "Img/r1_extra_2.jpg",
    "Img/r1_extra_3.jpg",
    "Img/r1_intrdr_1.jpg",
    "Img/r1_miss_1.jpg",
    "Img/r1_mvnt_1.jpg",
    "Img/r1_mvnt_2.jpg",
    "Img/r1_normal.jpg",
    "Img/r2_extra_1.jpg",
    "Img/r2_miss_1.jpg",
    "Img/r2_miss_2.jpg",
    "Img/r2_intrdr_1.jpg",
    "Img/r2_change_1.jpg",
    "Img/r2_mvnt_1.jpg",
    "Img/r2_size_1.jpg",
    "Img/r2_normal.jpg",
    "Img/r3_extra_1.jpg",
    "Img/r3_extra_2.jpg",
    "Img/r3_miss_1.jpg",
    "Img/r3_intrdr_1.jpg",
    "Img/r3_mvnt_1.jpg",
    "Img/r3_size_1.jpg",
    "Img/r3_size_2.jpg",
    "Img/r3_normal.jpg",
    "Img/r4_extra_1.jpg",
    "Img/r4_miss_1.jpg",
    "Img/r4_miss_2.jpg",
    "Img/r4_intrdr_1.jpg",
    "Img/r4_mvnt_1.jpg",
    "Img/r4_size_1.jpg",
    "Img/r4_size_2.jpg",
    "Img/r4_normal.jpg",
    "Img/r5_extra_1.jpg",
    "Img/r5_miss_1.jpg",
    "Img/r5_size_1.jpg",
    "Img/r5_intrdr_1.jpg",
    "Img/r5_size_2.jpg",
    "Img/r5_mvnt_1.jpg",
    "Img/r5_size_3.jpg",
    "Img/r5_normal.jpg",
    "Img/r6_extra_1.jpg",
    "Img/r6_miss_1.jpg",
    "Img/r6_change_1.jpg",
    "Img/r6_intrdr_1.jpg",
    "Img/r6_mvnt_1.jpg",
    "Img/r6_mvnt_2.jpg",
    "Img/r6_size_1.jpg",
    "Img/r6_normal.jpg"
  ];
  
  const loading = document.getElementById("loading");

  function loadImages(sources) {
    return new Promise((resolve) => {
      const loadedImages = [];
      let loadedCount = 0;
  
      sources.forEach((src, index) => {
        const img = new Image();
        img.src = src;
  
        img.onload = () => {
          loadedImages[index] = img;
          loadedCount++;
          if (loadedCount === sources.length) {
            resolve(loadedImages);
          }
        };

        img.onerror = () => {
          console.error(`Gagal memuat gambar: ${src}`);
          loadedCount++;
          if (loadedCount === sources.length) {
            resolve(loadedImages);
          }
        };
      });
    });
  }
  
  loadImages(imageSources).then((images) => {
    loading.style.display = "none";
  });

  window.addEventListener('load', () => {
    loading.style.display = "none";
  });